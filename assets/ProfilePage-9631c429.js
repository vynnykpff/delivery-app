import{b as u,A as h,j as s,a4 as x,a5 as p,Z as l,a1 as a,a6 as d,a2 as m,a7 as A,r as g,a8 as j,a9 as C,aa as f,ab as k,v as N,ac as b,C as E,ad as I}from"./index-3260ee99.js";import"./Order.styled-c2f7ac9e.js";import"./ModalWindow.styled-06c9a9b3.js";import"./NoData.module-4f41915b.js";const R=()=>{const o=u(),i=h(),e=()=>{const n=x().currentUser;p(n).then(()=>{l("isAuth")&&a("isAuth"),a("userId"),o(d()),i(m)}).catch(t=>{console.log("Error deleting user:",t)})};return s.jsx("div",{children:s.jsx("button",{onClick:e,children:"Remove account"})})},D=()=>{const o=u(),i=h(),{isAuth:e,email:r}=A();g.useEffect(()=>{e&&j("isAuth",e,1)},[e]);const n=()=>{o(d()),a("isAuth"),a("userId"),i(m)},t=[{route:E,name:"History"},{route:I,name:"Coupons"}],v=l("isAuth");return e||v?s.jsxs("div",{children:[s.jsx("h1",{children:"Welcome"}),s.jsxs("button",{onClick:n,children:["Log Out from ",r]}),s.jsx(R,{}),s.jsx(C,{children:t.map(c=>s.jsx(f,{to:c.route,children:s.jsx(k,{children:c.name})},N()))})]}):s.jsx(b,{to:"/login"})};export{D as default};
